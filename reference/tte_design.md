# Create a TTE design specification

Constructor function for \[TTEDesign\] objects. Defines the column name
mappings for a target trial emulation analysis.

## Usage

``` r
tte_design(
  exposure_var,
  outcome_vars,
  confounder_vars,
  follow_up_time,
  person_id_var = NULL,
  id_var = "trial_id",
  tstart_var = "tstart",
  tstop_var = "tstop",
  time_exposure_var = NULL,
  eligible_var = NULL,
  admin_censor_var = NULL,
  admin_censor_isoyearweek = NULL
)
```

## Arguments

- exposure_var:

  Character, name of the baseline exposure/treatment column.

- outcome_vars:

  Character vector, names of outcome event indicator columns.

- confounder_vars:

  Character vector, names of confounder columns.

- follow_up_time:

  Integer, expected follow-up duration in time units.

- person_id_var:

  Character or NULL, name of the person identifier column for pre-panel
  (person-week) data. Required for \[tte_match()\] and \[tte_expand()\]
  operations. (default: NULL).

- id_var:

  Character, name of the trial identifier column. Auto-generated by
  \[tte_expand()\] as "trial_id" (default: "trial_id").

- tstart_var:

  Character, period start time column (default: "tstart").

- tstop_var:

  Character, period end time column (default: "tstop").

- time_exposure_var:

  Character or NULL, time-varying exposure column for per-protocol
  analysis (default: NULL).

- eligible_var:

  Character or NULL, eligibility indicator column (default: NULL).

- admin_censor_var:

  Character or NULL, administrative censoring boundary column (default:
  NULL). Mutually exclusive with \`admin_censor_isoyearweek\`.

- admin_censor_isoyearweek:

  Character or NULL, the study end date in ISO year-week format (e.g.,
  "2023-52"). When set, administrative censoring is computed internally
  by \[tte_prepare_outcome()\]. Mutually exclusive with
  \`admin_censor_var\` (default: NULL).

## Value

A \[TTEDesign\] object.

## See also

\[TTEDesign\] for class details, \[tte_trial()\] for creating trials

Other tte_classes:
[`TTEDesign()`](https://papadopoulos-lab.github.io/swereg/reference/TTEDesign.md),
[`TTEPlan()`](https://papadopoulos-lab.github.io/swereg/reference/TTEPlan.md),
[`TTETrial()`](https://papadopoulos-lab.github.io/swereg/reference/TTETrial.md),
[`tte_plan()`](https://papadopoulos-lab.github.io/swereg/reference/tte_plan.md),
[`tte_plan_add_one_ett()`](https://papadopoulos-lab.github.io/swereg/reference/tte_plan_add_one_ett.md),
[`tte_plan_save()`](https://papadopoulos-lab.github.io/swereg/reference/tte_plan_save.md),
[`tte_plan_task()`](https://papadopoulos-lab.github.io/swereg/reference/tte_plan_task.md),
[`tte_trial()`](https://papadopoulos-lab.github.io/swereg/reference/tte_trial.md)

## Examples

``` r
# Design for post-panel (trial-level) data
design <- tte_design(
  exposure_var = "baseline_exposed",
  time_exposure_var = "current_exposed",
  outcome_vars = c("death", "hospitalization"),
  confounder_vars = c("age", "sex", "education"),
  follow_up_time = 156L
)

# Design for pre-panel (person-week) data
design_prepanel <- tte_design(
  person_id_var = "id",
  exposure_var = "baseline_exposed",
  outcome_vars = c("death", "hospitalization"),
  confounder_vars = c("age", "sex"),
  follow_up_time = 156L,
  eligible_var = "eligible"
)
```
