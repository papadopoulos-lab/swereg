<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert column names to lowercase and optionally clean date columns — make_lowercase_names • swereg</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert column names to lowercase and optionally clean date columns — make_lowercase_names"><meta name="description" content="Generic function to convert all column names in an object to lowercase.
Optionally parses and cleans specified date columns using Swedish registry
date format handling. Methods are provided for data.table and default objects."><meta property="og:description" content="Generic function to convert all column names in an object to lowercase.
Optionally parses and cleans specified date columns using Swedish registry
date format handling. Methods are provided for data.table and default objects."><meta property="og:image" content="https://papadopoulos-lab.github.io/swereg/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">swereg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">26.2.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/skeleton-concept.html">Skeleton concept</a></li>
    <li><a class="dropdown-item" href="../articles/rowdep-rowind-concept.html">Variable types: rowdep vs rowind</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Implementation</h6></li>
    <li><a class="dropdown-item" href="../articles/skeleton1-create.html">Building the data skeleton (skeleton1_create)</a></li>
    <li><a class="dropdown-item" href="../articles/skeleton2-clean.html">Cleaning and deriving variables (skeleton2_clean)</a></li>
    <li><a class="dropdown-item" href="../articles/skeleton3-analyze.html">Batching (skeleton3_analyze)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Cookbooks</h6></li>
    <li><a class="dropdown-item" href="../articles/cookbook-survival-analysis.html">Survival analysis with time-varying covariates</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/papadopoulos-lab/swereg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert column names to lowercase and optionally clean date columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/papadopoulos-lab/swereg/blob/main/R/make_lowercase_names.R" class="external-link"><code>R/make_lowercase_names.R</code></a></small>
      <div class="d-none name"><code>make_lowercase_names.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generic function to convert all column names in an object to lowercase.
Optionally parses and cleans specified date columns using Swedish registry
date format handling. Methods are provided for data.table and default objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">x</span>, date_columns <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">x</span>, date_columns <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.table'</span></span>
<span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">x</span>, date_columns <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object with named columns (data.frame, data.table, etc.)</p></dd>


<dt id="arg-date-columns">date_columns<a class="anchor" aria-label="anchor" href="#arg-date-columns"></a></dt>
<dd><p>Character vector specifying the names of date columns to clean.
Should use lowercase names since column names are converted to lowercase first.
If uppercase names are provided, a warning is issued and lowercase versions are used.
If provided, these columns will be parsed using Swedish date format handling
and converted to Date class in place (keeping original column names).
If NULL, the function will suggest commonly found Swedish registry date columns.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments for date parsing (default_month_day, default_day, na_strings)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The object with all column names converted to lowercase, and optionally
  cleaned date columns if date_columns was specified (converted to Date class in place)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function automatically detects common Swedish registry date columns
(indatum, utdatum, edatum, dodsdat, fodelseman) and provides helpful messages
suggesting their inclusion in the date_columns parameter.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="create_skeleton.html">create_skeleton</a></code> for creating the skeleton structure,
  <code><a href="add_onetime.html">add_onetime</a></code> for merging data,
  <code><a href="add_diagnoses.html">add_diagnoses</a></code> for diagnosis data,
  <code><a href="parse_swedish_date.html">parse_swedish_date</a></code> for date parsing details</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load fake data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"fake_demographics"</span>, package <span class="op">=</span> <span class="st">"swereg"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Basic usage - convert column names to lowercase</span></span></span>
<span class="r-in"><span><span class="co"># This will show a message suggesting to include 'fodelseman' in date_columns</span></span></span>
<span class="r-in"><span><span class="fu">swereg</span><span class="fu">::</span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">fake_demographics</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Found potential date columns: fodelseman. Consider adding them to date_columns parameter for automatic date parsing.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With date cleaning - clean birth dates (use lowercase column names)</span></span></span>
<span class="r-in"><span><span class="fu">swereg</span><span class="fu">::</span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">fake_demographics</span>, date_columns <span class="op">=</span> <span class="st">"fodelseman"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check that fodelseman column was converted to Date class</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fake_demographics</span><span class="op">$</span><span class="va">fodelseman</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1959-07-01" "1988-07-01" "1989-07-01" "1988-07-01" "1954-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "1958-07-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For diagnosis data with multiple date columns (use lowercase column names)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"fake_diagnoses"</span>, package <span class="op">=</span> <span class="st">"swereg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">swereg</span><span class="fu">::</span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">fake_diagnoses</span>, date_columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"indatum"</span>, <span class="st">"utdatum"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The function suggests missing date columns</span></span></span>
<span class="r-in"><span><span class="fu">swereg</span><span class="fu">::</span><span class="fu">make_lowercase_names</span><span class="op">(</span><span class="va">fake_diagnoses</span>, date_columns <span class="op">=</span> <span class="st">"indatum"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Found additional date columns not in date_columns: utdatum. Consider adding them for automatic date parsing.</span>
<span class="r-in"><span><span class="co"># Message: "Found additional date columns not in date_columns: utdatum"</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Crafted by <a href="https://www.rwhite.no" class="external-link">Richard Aubrey White</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

