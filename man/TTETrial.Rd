% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tte_classes.R
\name{TTETrial}
\alias{TTETrial}
\title{TTETrial class for target trial emulation}
\usage{
TTETrial(
  data = NULL,
  design = TTEDesign(),
  data_level = "trial",
  steps_completed = character(0),
  active_outcome = character(0),
  weight_cols = character(0)
)
}
\arguments{
\item{data}{A data.table containing the trial data.}

\item{design}{A [TTEDesign] object specifying column mappings.}

\item{data_level}{Character, either "person_week" for pre-panel data or
"trial" for post-panel data. Determines which methods can be applied.}

\item{steps_completed}{Character vector of completed workflow steps.}

\item{active_outcome}{Character or NULL, the current outcome for IPCW-PP analysis.}

\item{weight_cols}{Character vector of weight column names created.}
}
\description{
Holds the trial data, design specification, and workflow state. Methods
modify and return self for chaining operations in a fluent API.
}
\details{
The `data_level` property controls which methods are available:
- `"person_week"`: Data has one row per person per time unit. Methods
  [tte_match()] and [tte_expand()] require this level.
- `"trial"`: Data has been expanded to trial panels. Methods [tte_collapse()],
  [tte_ipw()], [tte_prepare_outcome()], [tte_ipcw_pp()], [tte_weights()], and
  [tte_truncate()] require this level.

The [tte_expand()] method transitions data from "person_week" to "trial" level.
}
\examples{
\dontrun{
# For trial-level data
design <- tte_design(
  exposure_var = "exposed",
  outcome_vars = "death",
  confounder_vars = c("age", "sex"),
  follow_up_time = 52L
)
trial <- tte_trial(my_trial_data, design)

# For person-week data (full workflow)
design <- tte_design(
  person_id_var = "id",
  exposure_var = "exposed",
  outcome_vars = "death",
  confounder_vars = c("age", "sex"),
  follow_up_time = 52L,
  eligible_var = "eligible"
)
trial <- tte_trial(my_person_week_data, design) |>
  tte_match(ratio = 2) |>
  tte_expand()
}

}
\seealso{
[tte_trial()] for creating trial objects, [TTEDesign] for design class

Other tte_classes: 
\code{\link{TTEDesign}()},
\code{\link{TTEPlan}()},
\code{\link{tte_design}()},
\code{\link{tte_plan}()},
\code{\link{tte_plan_add_one_ett}()},
\code{\link{tte_plan_task}()},
\code{\link{tte_trial}()}
}
\concept{tte_classes}
