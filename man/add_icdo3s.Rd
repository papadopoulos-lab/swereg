% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_diagnoses_and_operations.R
\name{add_icdo3s}
\alias{add_icdo3s}
\title{Add ICD-O-3 oncology codes to skeleton}
\usage{
add_icdo3s(skeleton, dataset, id_name, icdo3s = list())
}
\arguments{
\item{skeleton}{A data.table containing the main skeleton structure created by \code{\link{create_skeleton}}}

\item{dataset}{A data.table containing cancer registry data with ICD-O-3 codes.
Must have columns for person ID, date variables, and ICD-O-3 code column (icdo3)}

\item{id_name}{Character string specifying the name of the ID variable in the dataset}

\item{icdo3s}{Named list of ICD-O-3 code patterns to search for. Names become variable names in skeleton.
ICD-O-3 codes combine morphology (4 digits + behavior code) and topography (C codes).
Examples of pattern matching:
\itemize{
  \item \code{"^8140"} - Adenocarcinoma, NOS (morphology code)
  \item \code{"^C50"} - Breast cancer (topography code)
  \item \code{"8500/3"} - Infiltrating duct carcinoma (morphology with behavior)
}}
}
\value{
The skeleton data.table is modified by reference with ICD-O-3 variables added.
  New boolean variables are created for each ICD-O-3 pattern, TRUE when code is present.
}
\description{
Searches for specific ICD-O-3 (International Classification of Diseases for Oncology,
3rd edition) codes in Swedish cancer registry data and adds corresponding boolean
variables to the skeleton. ICD-O-3 is used to classify malignant neoplasms (cancers)
by histological type (morphology) and anatomical site (topography).
}
\examples{
# Load fake data
data("fake_person_ids", package = "swereg")
data("fake_inpatient_diagnoses", package = "swereg")
swereg::make_lowercase_names(fake_inpatient_diagnoses, date_columns = "indatum")

# Create skeleton
skeleton <- create_skeleton(fake_person_ids[1:10], "2020-01-01", "2020-12-31")

# Add ICD-O-3 codes for specific cancer types
cancer_codes <- list(
  "adenocarcinoma" = c("^8140"),
  "breast_cancer" = c("^C50")
)
add_icdo3s(skeleton, fake_inpatient_diagnoses, "lopnr", cancer_codes)
}
\seealso{
\code{\link{create_skeleton}} for creating the skeleton structure,
  \code{\link{add_diagnoses}} for ICD-10 diagnosis codes,
  \code{\link{add_operations}} for surgical procedure codes,
  \code{\link{make_lowercase_names}} for data preprocessing

Other data_integration: 
\code{\link{add_annual}()},
\code{\link{add_cods}()},
\code{\link{add_diagnoses}()},
\code{\link{add_onetime}()},
\code{\link{add_operations}()},
\code{\link{add_rx}()},
\code{\link{add_snomed3s}()},
\code{\link{add_snomedo10s}()}
}
\concept{data_integration}
