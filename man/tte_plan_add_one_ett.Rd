% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tte_classes.R
\name{tte_plan_add_one_ett}
\alias{tte_plan_add_one_ett}
\title{Add one ETT to a TTE plan}
\usage{
tte_plan_add_one_ett(
  plan,
  enrollment_id,
  outcome_var,
  outcome_name,
  follow_up,
  confounder_vars,
  time_exposure_var,
  eligible_var,
  argset = list()
)
}
\arguments{
\item{plan}{A [TTEPlan] object.}

\item{enrollment_id}{Character, enrollment group identifier (e.g., "01").
ETTs with the same enrollment_id share trial panels and must have matching
design parameters.}

\item{outcome_var}{Character, name of the outcome column.}

\item{outcome_name}{Character, human-readable outcome name.}

\item{follow_up}{Integer, follow-up duration in weeks.}

\item{confounder_vars}{Character vector of confounder column names.}

\item{time_exposure_var}{Character or NULL, name of time-varying exposure
column. NULL if ITT only. No default — must be explicit.}

\item{eligible_var}{Character or NULL, name of eligibility column.
NULL if no eligibility filter. No default — must be explicit.}

\item{argset}{Named list of additional parameters:
\describe{
  \item{age_group}{Character, age group label (e.g., "50_60"). Required.}
  \item{age_min}{Numeric, minimum age. Required.}
  \item{age_max}{Numeric, maximum age. Required.}
  \item{person_id_var}{Character, name of person ID column. Default: "id".}
}}
}
\value{
The modified [TTEPlan] object with one additional ETT row.
}
\description{
Adds exactly one Emulated Target Trial (ETT) row to a [TTEPlan] object.
Each ETT represents one outcome x follow_up x age_group combination with
its own design parameters (confounders, exposure columns, etc.).
}
\details{
ETTs with the same `enrollment_id` share trial panels and must have matching
design parameters (person_id_var, exposure_var, time_exposure_var,
eligible_var, confounder_vars).
}
\examples{
\dontrun{
plan <- tte_plan("project002", skeleton_files, "2023-52")
argset <- list(age_group = "50_60", age_min = 50, age_max = 60)
plan <- plan |>
  tte_plan_add_one_ett(
    enrollment_id = "01",
    outcome_var = "death",
    outcome_name = "Death",
    follow_up = 52,
    confounder_vars = c("age", "education"),
    time_exposure_var = "rd_exposed",
    eligible_var = "eligible",
    argset = argset
  ) |>
  tte_plan_add_one_ett(
    enrollment_id = "01",
    outcome_var = "hosp",
    outcome_name = "Hospitalization",
    follow_up = 52,
    confounder_vars = c("age", "education"),
    time_exposure_var = "rd_exposed",
    eligible_var = "eligible",
    argset = argset
  )
}

}
\seealso{
[tte_plan()] for creating an empty plan, [TTEPlan] for class details

Other tte_classes: 
\code{\link{TTEDesign}()},
\code{\link{TTEPlan}()},
\code{\link{TTETrial}()},
\code{\link{tte_design}()},
\code{\link{tte_plan}()},
\code{\link{tte_plan_save}()},
\code{\link{tte_plan_task}()},
\code{\link{tte_trial}()}
}
\concept{tte_classes}
