% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_skeleton.R
\name{create_skeleton}
\alias{create_skeleton}
\title{Create longitudinal data skeleton}
\usage{
create_skeleton(ids, date_min, date_max)
}
\arguments{
\item{ids}{Vector of individual IDs to include in the skeleton}

\item{date_min}{Date object specifying the start date for the analysis period}

\item{date_max}{Date object specifying the end date for the analysis period}
}
\value{
A data.table skeleton with columns:
  \itemize{
    \item id: Individual identifier
    \item isoyear: ISO year (integer)
    \item isoyearweek: ISO year-week (character, format "YYYY-WW" or "YYYY-**" for annual rows)
    \item is_isoyear: Logical indicating if row represents annual (TRUE) or weekly (FALSE) data
    \item isoyearweek_sunday: Date representing the Sunday (last day) of the ISO week/year
    \item personyears: Person-time contribution (1 for annual rows, 1/52.25 for weekly rows)
  }
}
\description{
Creates a longitudinal data skeleton with individual IDs and time periods
(both ISO years and ISO year-weeks) for Swedish registry data analysis.
The skeleton provides the framework for merging various registry datasets
with consistent time structure.
}
\examples{
# Load fake data
data("fake_person_ids", package = "swereg")

# Create skeleton for 2020-2022 period
skeleton <- create_skeleton(
  ids = fake_person_ids[1:10],
  date_min = as.Date("2020-01-01"),
  date_max = as.Date("2022-12-31")
)
utils::head(skeleton)

# Check structure
utils::str(skeleton)
}
\seealso{
\code{\link{add_onetime}} for demographic data,
  \code{\link{add_diagnoses}} for diagnosis codes,
  \code{\link{add_rx}} for prescription data,
  \code{\link{add_operations}} for surgical procedures
}
\concept{skeleton_creation}
