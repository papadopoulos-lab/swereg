% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tte_classes.R
\name{TTEPlan}
\alias{TTEPlan}
\title{TTEPlan class for trial generation planning}
\usage{
TTEPlan(
  project_prefix = character(0),
  ett = NULL,
  skeleton_files = character(0),
  global_max_isoyearweek = NULL
)
}
\arguments{
\item{project_prefix}{Character, string used for file naming.}

\item{ett}{NULL or a data.table with per-ETT columns including design params.}

\item{skeleton_files}{Character vector of skeleton file paths.}

\item{global_max_isoyearweek}{Administrative censoring boundary (isoyearweek string).}
}
\description{
Bundles the ETT grid, skeleton file paths, and design column names into a
single object using a builder pattern. Create an empty plan with
[tte_plan()], then add ETTs one at a time with [tte_plan_add_one_ett()].
Supports `plan[[i]]` to extract the i-th task (enrollment) for
interactive testing.
}
\details{
Design parameters (confounder_vars, person_id_var, exposure_var, etc.) are
stored per-ETT in the `ett` data.table, allowing different ETTs to use
different confounders or design columns. Within an enrollment_id (same
follow_up + age_group), design params must match.
}
\examples{
\dontrun{
plan <- tte_plan(
  project_prefix = "project002",
  skeleton_files = skeleton_files,
  global_max_isoyearweek = "2023-52"
)
plan <- plan |> tte_plan_add_one_ett(
  outcome_var = "death",
  outcome_name = "Death",
  follow_up = 52,
  age_group = "50_60",
  age_min = 50,
  age_max = 60,
  confounder_vars = c("age", "education"),
  time_exposure_var = "rd_exposed",
  eligible_var = "eligible"
)

# Extract first task for interactive testing
task <- plan[[1]]
task$design
task$age_range
}

}
\seealso{
[tte_plan()] for the constructor, [tte_plan_add_one_ett()] to add ETTs,
  [tte_plan_task()] to extract tasks, [tte_generate_enrollments()] for the pipeline

Other tte_classes: 
\code{\link{TTEDesign}()},
\code{\link{TTETrial}()},
\code{\link{tte_design}()},
\code{\link{tte_plan}()},
\code{\link{tte_plan_add_one_ett}()},
\code{\link{tte_plan_save}()},
\code{\link{tte_plan_task}()},
\code{\link{tte_trial}()}
}
\concept{tte_classes}
